webpackJsonp([0],{25:function(t,e,i){"use strict";function o(t){i(35)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(37),a=i(39),s=i(5),r=o,l=s(n.a,a.a,!1,r,null,null);e.default=l.exports},35:function(t,e,i){var o=i(36);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(23)("0313f445",o,!0)},36:function(t,e,i){e=t.exports=i(22)(void 0),e.push([t.i,".hello{text-align:center}.padding{padding:30px}.title{text-align:left}.notFound{margin:20px auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:#888}.notFound .q-icon{font-size:40px;margin-bottom:15px}.block-field{max-width:480px;margin:0 auto;position:relative;padding:20px}.add-button{position:absolute;right:20px;top:35px}.block-list{max-width:480px;margin:30px auto}.q-if-label{text-align:left}.auth-buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.auth-buttons small{margin-bottom:20px}.auth-modal .form{margin-top:30px}.auth-modal .form .q-btn{margin-top:10px}.auth-modal .modal-content{border-radius:4px}.auth-modal .modal-content .close{position:absolute;right:0;top:0;padding:0 10px}",""])},37:function(t,e,i){"use strict";var o=i(4),n=i(6),a=(i.n(n),i(26)),s=(i.n(a),i(38)),r=i(29);i.n(r);e.a={name:"hello",components:{QBtn:o.c,QList:o.j,QListHeader:o.k,QItem:o.g,QItemSide:o.i,QItemMain:o.h,QInput:o.f,QIcon:o.e,QModal:o.l,QCard:o.d},data:function(){return{tasks:[],userData:[],newTask:"",registerLoad:!1,loginLoad:!1,loggedIn:!1,loginForm:{email:"",password:""},registerForm:{email:"",password:""},email:""}},created:function(){var t=this;n.Meteor.subscribe("tasks"),r.Tracker.autorun(function(){t.loginStatus(),t.tasks=s.a.find({},{sort:{createdAt:-1}}).map(function(t){return{_id:t._id,title:t.title,editing:!1}})})},mounted:function(){var t=this;r.Tracker.autorun(function(){if(null!==n.Meteor.userId()||null!==n.Meteor.user()){var e=n.Meteor.users.find({_id:n.Meteor.userId()},{fields:{emails:1}}).map(function(t){return t.emails[0].address});t.email=e[0]}})},methods:{logout:function(){o.a.create({html:"You logged out"}),n.Meteor.logout(),this.loggedIn=!1},loginStatus:function(){null===n.Meteor.userId()&&null===n.Meteor.user()||(this.loggedIn=!0)},addTask:function(t){this.newTask&&(o.m.create({html:this.newTask,timeout:2500,color:"#fff",button:{color:"yellow",handler:function(){console.log(t)}}}),n.Meteor.call("tasks.insert",this.newTask),this.newTask="")},editTask:function(t){t.editing=!0,!0===t.editing&&(this.changeTask=t.title)},saveTask:function(t){t.editing=!1,this.changeTask&&n.Meteor.call("tasks.update",t._id,this.changeTask)},removeTask:function(t){o.b.create({title:"Remove task",message:"Are you sure you want to remove this task?",buttons:[{label:"Cancel",handler:function(){o.a.create({html:"Canceled..."})}},{label:"Remove",color:"negative",outline:!0,handler:function(){n.Meteor.call("tasks.remove",t._id)}}]})},login:function(){var t=this;this.loginLoad=!0,n.Meteor.loginWithPassword(this.loginForm.email,this.loginForm.password,function(e){e?(o.a.create({html:e}),t.loginLoad=!1):(o.a.create({html:"Good to see you again, welcome!",color:"primary",icon:"check"}),t.loginLoad=!1,t.loginForm.email="",t.loginForm.password="",t.$refs.loginModal.close())})},register:function(){var t=this;this.registerLoad=!0,a.Accounts.createUser({createdAt:new Date,email:this.registerForm.email,password:this.registerForm.password},function(e,i){e?(o.a.create({html:e}),t.registerLoad=!1):(o.a.create({html:"You just signed up",color:"positive",icon:"check"}),t.registerLoad=!1,t.registerForm.email="",t.registerForm.password="",t.$refs.registerModal.close())})}}}},38:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var o=i(6),n=(i.n(o),i(27)),a=(i.n(n),i(28)),s=(i.n(a),new n.Mongo.Collection("tasks"));o.Meteor.isServer&&(o.Meteor.publish("tasks",function(){return s.find()}),o.Meteor.publish("userData",function(){var t;return t=this.userId,t?o.Meteor.users.find({_id:t},{fields:{emails:1}}):this.ready()})),o.Meteor.methods({"tasks.insert":function(t){Object(a.check)(t,String),s.insert({title:t,createdAt:new Date})},"tasks.update":function(t,e){Object(a.check)(t,String),Object(a.check)(e,String),s.update(t,{$set:{_id:t,updatedAt:new Date,title:e}})},"tasks.remove":function(t){Object(a.check)(t,String),s.remove(t)}})},39:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("div",{staticClass:"padding"},[i("div",{staticClass:"authentication"},[t.loggedIn?t._e():i("div",{staticClass:"auth-buttons"},[i("small",[t._v("Basic authentication using Meteor.Accounts")]),t._v(" "),i("div",[i("q-btn",{on:{click:function(e){t.$refs.loginModal.open()}}},[t._v("Login")]),t._v(" "),i("q-btn",{on:{click:function(e){t.$refs.registerModal.open()}}},[t._v("Register")])],1)]),t._v(" "),t.loggedIn?i("div",{staticClass:"auth-profile"},[i("strong",[t._v(t._s(this.email))]),t._v(" "),i("q-btn",{attrs:{color:"negative",small:""},on:{click:t.logout}},[t._v("Logout")])],1):t._e(),t._v(" "),i("q-modal",{ref:"loginModal",staticClass:"auth-modal"},[i("div",{staticClass:"padding"},[i("h4",[t._v("Login")]),t._v(" "),i("q-btn",{staticClass:"close",attrs:{color:"negative",flat:""},on:{click:function(e){t.$refs.loginModal.close()}}},[i("q-icon",{attrs:{name:"close"}})],1),t._v(" "),i("div",{staticClass:"form"},[i("div",[i("q-input",{attrs:{"stack-label":"Your email"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)}},model:{value:t.loginForm.email,callback:function(e){t.$set(t.loginForm,"email",e)},expression:"loginForm.email"}})],1),t._v(" "),i("div",[i("q-input",{attrs:{"stack-label":"Your password",type:"password"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),i("div",[i("q-btn",{staticClass:"full-width",attrs:{loader:"",color:"primary"},on:{click:t.login},model:{value:t.loginLoad,callback:function(e){t.loginLoad=e},expression:"loginLoad"}},[t._v("Login")])],1)])],1)]),t._v(" "),i("q-modal",{ref:"registerModal",staticClass:"auth-modal"},[i("div",{staticClass:"padding"},[i("h4",[t._v("Register")]),t._v(" "),i("q-btn",{staticClass:"close",attrs:{color:"negative",flat:""},on:{click:function(e){t.$refs.registerModal.close()}}},[i("q-icon",{attrs:{name:"close"}})],1),t._v(" "),i("div",{staticClass:"form"},[i("div",[i("q-input",{attrs:{"stack-label":"Your email"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.register(e)}},model:{value:t.registerForm.email,callback:function(e){t.$set(t.registerForm,"email",e)},expression:"registerForm.email"}})],1),t._v(" "),i("div",[i("q-input",{attrs:{"stack-label":"Your password",type:"password"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.register(e)}},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}})],1),t._v(" "),i("div",[i("q-btn",{staticClass:"full-width",attrs:{loader:"",color:"positive"},on:{click:function(e){e.preventDefault(),t.register(e)}},model:{value:t.registerLoad,callback:function(e){t.registerLoad=e},expression:"registerLoad"}},[t._v("Confirm")])],1)])],1)])],1),t._v(" "),i("q-card",{staticClass:"block-list"},[i("div",{staticClass:"block-field"},[i("q-input",{attrs:{"stack-label":"Insert your task title"},model:{value:t.newTask,callback:function(e){t.newTask=e},expression:"newTask"}}),t._v(" "),i("q-btn",{staticClass:"add-button",attrs:{disabled:this.newTask.length<3,color:"primary",small:""},on:{click:function(e){e.preventDefault(),t.addTask(e)}}},[t._v("Add Task")])],1),t._v(" "),i("q-list",[0===this.tasks.length?i("div",[i("span",{staticClass:"notFound"},[i("q-icon",{attrs:{name:"not_interested"}}),t._v(" "),i("span",[t._v("No registration for tasks")])],1)]):i("div",[i("q-list-header",{staticClass:"title"},[t._v("Tasks "),i("strong",[t._v("("+t._s(this.tasks.length)+")")])]),t._v(" "),t._l(t.tasks,function(e,o){return i("q-item",{key:e.id},[i("q-item-main",[e.editing?t._e():i("span",[t._v(t._s(e.title))]),t._v(" "),e.editing?i("q-input",{model:{value:t.changeTask,callback:function(e){t.changeTask=e},expression:"changeTask"}}):t._e()],1),t._v(" "),i("q-item-side",[e.editing?t._e():i("q-btn",{attrs:{color:"warning",outline:"",small:""},on:{click:function(i){i.preventDefault(),t.editTask(e)}}},[i("q-icon",{attrs:{name:"edit"}})],1),t._v(" "),e.editing?i("q-btn",{attrs:{color:"positive",small:""},on:{click:function(i){i.preventDefault(),t.saveTask(e)}}},[i("q-icon",{attrs:{name:"check"}})],1):t._e(),t._v(" "),i("q-btn",{attrs:{color:"negative",outline:"",small:""},on:{click:function(i){i.preventDefault(),t.removeTask(e)}}},[i("q-icon",{attrs:{name:"delete"}})],1)],1)],1)})],2)])],1)],1)])},n=[],a={render:o,staticRenderFns:n};e.a=a}});